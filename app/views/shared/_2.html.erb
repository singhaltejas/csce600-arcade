<h1> Wordle </h1>

<div id="game-container">

  <!-- Wordle Grid on the Left -->
  <% words = ['HELLO', 'THIS-', 'ADEMO'] %>
  <% results = [['var(--primary-clr)', 'var(--primary-clr)', 'var(--secondary-clr)', 'var(--tertiary-clr)', 'var(--secondary-clr)'], 
                ['var(--secondary-clr)', 'var(--secondary-clr)', 'var(--primary-clr)', 'var(--secondary-clr)', 'var(--primary-clr)'], 
                ['var(--tertiary-clr)', 'var(--tertiary-clr)', 'var(--tertiary-clr)', 'var(--primary-clr)', 'var(--secondary-clr)']] %>
  
  <div id="wordle-grid">
    <% 6.times do |row_idx| %>
      <div class="wordle-row">
        <% if row_idx < words.length %>
          <% word = words[row_idx] %>
          <% result = results[row_idx] %>
          <% word.chars.each_with_index do |letter, col_idx| %>
            <div class="wordle-tile" data-filled="true" style="background-color: <%= result[col_idx] %>">
              <%= letter %>
            </div>
          <% end %>
        <% else %>
          <% 5.times do |col_idx| %>
            <div class="wordle-tile"></div>
          <% end %>
        <% end %>
      </div>
    <% end %>
  </div>

  <!-- Keyboard on the Right -->
  <div id="keyboard-container">
    <div id="keyboard">
      <% colors = ['var(--primary-clr)', 'var(--secondary-clr)', 'var(--tertiary-clr)'] %>
      <% ['QWERTYUIOP', 'ASDFGHJKL', 'ZXCVBNM'].each_with_index do |row, row_idx| %>
        <div class="keyboard-row">
          <% row.split('').each_with_index do |key, col_idx| %>
            <% color_index = (row_idx * row.length + col_idx) % colors.length %>
            <button class="keyboard-key" data-key="<%= key %>" style="background-color: <%= colors[color_index] %>;"><%= key %></button>
          <% end %>
        </div>
      <% end %>
  
      <!-- Separate row for ENTER and BACKSPACE keys -->
      <div class="keyboard-row">
        <button class="keyboard-key wide-key" data-key="ENTER">ENTER</button>
        <button class="keyboard-key wide-key" data-key="BACKSPACE">âŒ«</button>
      </div>
    </div>
    <p>Number of Attempts: <%= words.length %></p> <!-- Display the number of words guessed -->
  </div>
</div>