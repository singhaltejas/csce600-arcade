<%= render "shared/all_pages_nav" %>

  <table>
    <caption>All Users</caption>
    <thead>
      <tr>
        <% ["first_name", "last_name", "email", "github_username", "spotify_username", "roles"].each do |attr| %>
          <th style="color:white;">
            <%= attr.capitalize.sub("_", " ") %>
          </th>
        <% end %>
      </tr>
    </thead>
    <tbody>
      <% @users.each do |user| %>
        <tr>
          <td><%= user.first_name %></td>
          <td><%= user.last_name %></td>
          <td><%= user.email %></td>
          <td><%= user.github_username %></td>
          <td><%= user.spotify_username %></td>
          <td>
          <% user.roles.each do |role| %>
            <div>
              <%= role.role+(role.game ? ': '+role.game.name : "") %>
            </div>
          <% end %>
          <%= link_to("Manage Roles", "/users/#{user.id}/roles", method: :get, class: "btn manage-roles-btn") %>
        </td>

        </tr>
        <tr>
          <td colspan="6" style="border-bottom: 2px solid white;"></td>
        </tr>
      <% end %>
    </tbody>
  </table>